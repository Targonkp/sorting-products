let tvlist=[{model:"ТВ-8",diagonal:"36 дюймов",price:"25000 рублей",dataSort:"8",dataRating:"20",image:"images/tv-image-1.jpg",brand:"Abrand"},{model:"ТВ-1",diagonal:"30 дюймов",price:"23000 рублей",dataSort:"1",dataRating:"10",image:"images/tv-image-2.jpg",brand:"Abrand"},{model:"ТВ-3",diagonal:"30 дюймов",price:"21000 рублей",dataSort:"3",dataRating:"15",image:"images/tv-image-3.jpg",brand:"Bbrand"},{model:"ТВ-5",diagonal:"23 дюйма",price:"15000 рублей",dataSort:"5",dataRating:"17",image:"images/tv-image-4.jpg",brand:"Abrand"},{model:"ТВ-2",diagonal:"34 дюйма",price:"35500 рублей",dataSort:"2",dataRating:"45",image:"images/tv-image-5.jpg",brand:"Cbrand"},{model:"ТВ-6",diagonal:"55 дюймов",price:"54000 рублей",dataSort:"6",dataRating:"16",image:"images/tv-image-1.jpg",brand:"Bbrand"},{model:"ТВ-7",diagonal:"28 дюймов",price:"17501 рубль",dataSort:"7",dataRating:"7",image:"images/tv-image-2.jpg",brand:"Abrand"},{model:"ТВ-9",diagonal:"26 дюймов",price:"17562 рубля",dataSort:"9",dataRating:"17",image:"images/tv-image-3.jpg",brand:"Ebrand"},{model:"ТВ-8",diagonal:"58 дюймов",price:"37800 рублей",dataSort:"8",dataRating:"8",image:"images/tv-image-4.jpg",brand:"Ebrand"},{model:"ТВ-10",diagonal:"26 дюймов",price:"12561 рубль",dataSort:"10",dataRating:"17",image:"images/tv-image-5.jpg",brand:"Abrand"},{model:"ТВ-12",diagonal:"52 дюйма",price:"42800 рублей",dataSort:"12",dataRating:"3",image:"images/tv-image-1.jpg",brand:"Dbrand"},{model:"ТВ-11",diagonal:"28 дюймов",price:"18000 рублей",dataSort:"11",dataRating:"19",image:"images/tv-image-2.jpg",brand:"Bbrand"},{model:"ТВ-13",diagonal:"58 дюймов",price:"34700 рублей",dataSort:"13",dataRating:"48",image:"images/tv-image-3.jpg",brand:"Dbrand"},{model:"ТВ-14",diagonal:"35 дюймов",price:"22800 рублей",dataSort:"14",dataRating:"18",image:"images/tv-image-4.jpg",brand:"Cbrand"}],products=document.querySelector(".products__text"),pagination=document.querySelector(".pagination"),sorting=document.querySelector(".sorting"),notesOnPage=3,newElementsList=tvlist;function priceName(){tvlist.forEach((e=>{e.price=e.price.split(" ").filter((e=>"рублей"!==e&&"рубль"!==e&&"рубля"!==e)).join("")}))}function createPaginationEl(e){if(pagination.innerHTML="",e.length>0){for(let t=1;t<=Math.ceil(e.length/notesOnPage);t++){let e=document.createElement("li");e.className="pagination__element",e.innerHTML=t,pagination.appendChild(e)}document.querySelectorAll(".pagination__element")[0].classList.add("pagination__element-active")}}function newPage(e){products.innerHTML="";for(let t in e){let n=document.createElement("div");n.innerHTML=`\n        <div class="product-image">\n        <img src="${e[t].image}" alt="" class="products-text__image"> \n        </div>\n        <div class="product-loop-action">\n      <a href="#" class="loop-action__link add-to-cart">Быстрый просмотр</a>\n      <a href="#" class="loop-action__link loop-add-to-cart">В корзину</a>\n    </div>     \n        <div class="product-info">\n        <p class="products-text__header">Название модели: ${e[t].model}</p>\n        <p><strong>Бренд:</strong> ${e[t].brand}</p>\n    <p><strong>Диагональ:</strong> ${e[t].diagonal}</p>\n    <p><strong>Стоимость:</strong> ${e[t].price} &#8381;</p>\n    <p><strong>Рейтинг:</strong> ${e[t].dataRating}</p>\n    </div>\n    `,n.className="products-text__element",n.setAttribute("data-sort",e[t].dataSort),n.setAttribute("data-rating",e[t].dataRating),n.setAttribute("data-brand",e[t].brand),products.appendChild(n)}}function startPage(e,t){products.innerHTML="",priceName(),newPage(e.slice(0,t))}function createProducts(e,t){let n=(e-1)*notesOnPage,a=n+notesOnPage;newObj=t.slice(n,a),newPage(newObj)}function sortAscending(e){priceName(),e.sort(((e,t)=>e.price-t.price)),newObj=e.slice(0,notesOnPage),console.log(newObj),newPage(newObj)}function sortDescending(e){priceName(),e.sort(((e,t)=>t.price-e.price)),newObj=e.slice(0,notesOnPage),console.log(newObj),newPage(newObj)}function sortName(e){e.sort(((e,t)=>e.dataSort-t.dataSort)),newObj=e.slice(0,notesOnPage),newPage(newObj)}function sortRating(e){e.sort(((e,t)=>t.dataRating-e.dataRating)),newObj=e.slice(0,notesOnPage),newPage(newObj)}createPaginationEl(tvlist),sorting.addEventListener("click",(e=>{e.target.classList.contains("sorting__element")&&(document.querySelectorAll(".sorting__element").forEach((e=>e.classList.remove("sorting__element-active"))),e.target.classList.add("sorting__element-active"),notesOnPage=+e.target.textContent,pagination.innerHTML="",createPaginationEl(newElementsList),startPage(newElementsList,notesOnPage))})),startPage(tvlist,notesOnPage),pagination.addEventListener("click",(function(e){let t=+e.target.innerHTML;e.target.classList.contains("pagination__element")&&(document.querySelectorAll(".pagination__element").forEach((e=>e.classList.remove("pagination__element-active"))),products.innerHTML="",e.target.classList.add("pagination__element-active"),createProducts(t,newElementsList))})),document.getElementById("ascending").addEventListener("click",(()=>{sortAscending(newElementsList)})),document.getElementById("descending").addEventListener("click",(()=>{sortDescending(newElementsList)})),document.getElementById("rating").addEventListener("click",(()=>{sortRating(newElementsList)})),document.getElementById("name").addEventListener("click",(()=>{sortName(newElementsList)}));let brands=[];for(key in tvlist)brands.push(tvlist[key].brand);let newbrands=Array.from(new Set(brands)).sort();for(let e=0;e<newbrands.length;e++){let t=document.createElement("p");t.innerHTML=`\n        <div class="checkbox">\n    <input class="custom-checkbox" type="checkbox" id="newbrands-${e}">\n    <label for="newbrands-${e}">${newbrands[e]}</label>\n  </div>\n        `,document.getElementById("filters-brand").appendChild(t)}let diagonals=[];for(key in tvlist)diagonals.push(tvlist[key].diagonal);let newDiagonals=Array.from(new Set(diagonals)),newDiagonalsSort=newDiagonals.sort(((e,t)=>parseFloat(e)-parseFloat(t)));for(let e=0;e<newDiagonalsSort.length;e++){let t=document.createElement("p");t.innerHTML=`\n        <div class="checkbox">\n    <input class="custom-checkbox" type="checkbox" id="diagonals-${e}">\n    <label for="diagonals-${e}">${newDiagonals[e]}</label>\n  </div>\n        `,document.getElementById("filters-diagonal").appendChild(t)}let prices=["1-9999","10000-19999","20000-29999","30000-39999","40000-49999"];for(let e=0;e<prices.length;e++){let t=document.createElement("p");t.innerHTML=`\n        <div class="checkbox">\n    <input class="custom-checkbox" type="checkbox" id="prices-${e}">\n    <label for="prices-${e}">${prices[e]}</label>\n  </div>\n        `,document.getElementById("filters-price").appendChild(t)}document.getElementById("filters-brand").addEventListener("click",(e=>{if("LABEL"===e.target.tagName){let t=e.target.textContent;newElementsList=tvlist.filter((e=>e.brand===t)),console.log(newElementsList),createPaginationEl(newElementsList),createProducts(1,newElementsList)}})),document.getElementById("filters-price").addEventListener("click",(e=>{if("LABEL"===e.target.tagName){let[t,n]=e.target.textContent.match(/\d+/g);newElementsList=tvlist.filter((e=>parseFloat(e.price)>=+t&&parseFloat(e.price)<=+n)),createPaginationEl(newElementsList),createProducts(1,newElementsList)}})),document.getElementById("filters-diagonal").addEventListener("click",(e=>{if("LABEL"===e.target.tagName){let t=parseFloat(e.target.textContent);newElementsList=tvlist.filter((e=>parseFloat(e.diagonal)===t)),createPaginationEl(newElementsList),createProducts(1,newElementsList)}}));let chekcbox=document.getElementById("filters-price").querySelectorAll(".custom-checkbox");function filter(){let e=[];[...chekcbox].forEach((t=>{t.checked&&e.push(t.closest(".checkbox").querySelector("label").textContent)})),console.log(e)}document.getElementById("filters-price").addEventListener("change",filter),document.querySelector(".reset").addEventListener("click",(()=>{[...document.querySelectorAll(".custom-checkbox")].forEach((e=>e.checked=!1)),newElementsList=tvlist,createPaginationEl(newElementsList),createProducts(1,newElementsList)}));